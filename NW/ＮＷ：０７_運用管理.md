# ＮＷ：０７_運用管理
## 運用管理
### 特に問題が起こっていないときに行う通常運用や、障害が起こったときに行う障害時運用、そして定期的なメンテナンスやシステム拡張などの変更を行う保守性の3種類がある
#### 主な管理項目
##### 構成管理
###### ネットワークの構成要素を管理する
* ルータやスイッチなどの物理的な構成要素
* IPアドレスや設定情報などの論理的な構成要素
##### セキュリティ管理
###### ファイアウォールやIDSなどのログから、不正アクセスの兆候を確認など
##### 資源管理
###### サーバの電源や施設など、設備に関する管理を行う
##### 性能管理
###### 性能指標を監視、閾値を超えないことを確認する
##### 障害管理
###### 障害情報を管理、検出方法や対策などを検討して実施
#### ITサービスマネジメントとの関係
##### ITサービスマネジメントとは、システムの運用や保守などを、顧客の要求を満たす「ITサービス」として捉え体系化し、これを効果的に提供するための統合されたプロセスアプローチ
###### PDCAサイクルで、自発的に貢献するプロアクティブ（能動的）を取組が推奨される
* 従来の運用管理は、依頼が発生したときに対応するリアクティブ（受動的）な運用が中心
###### 全体の仕組みとしてITSMS（IT Service  Management System：ITサービスマネジメントシステム）を構築
##### ITIL：Information Technology Infrastructure Library
###### ITサービスマネジメントのフレームワーク、ベストプラクティスがまとめられたものであり、デファクトスタンダードとして世界中で活用されている
* ITILを基にした規格がJIS Q 20000（ISO／IEC 20000）であり、ITSMS適合性評価制度として、ITSMSが適切に運用されていることを認定するために使用している
    * プロセス
        * サービスレベル管理：SLM（サービス提供プロセス）
            * 最終目標は、現在の全てのITサービスに対して合意されたレベルを達成すること、そして将来のサービスが、合意された達成可能な目標値wオ満たすように提供されること
                * SLMでは、サービスの利用者都サービスの提供者の間でSLAを締結し、PDCAマネジメントサイクルでサービスの維持、向上を図る
        * サービス継続及び可用性管理（サービス提供プロセス）
            * サービスの継続性と可用性の両方を管理する
                * 継続性
                    * サービス継続要求事項は事業計画やSLA、リスクアセスメントに基づいて決定する
                    * 継続管理では、災害のインパクトを定量化するためにビジネスインパクト分析（BIA：Business Impact Analysis）や、リスク分析（RA：Risk Analysis）を行い
                        * BIA：業務が停止・中断した場合に事業全体が受ける業務上、財務上の影響が度合いを分析すること
                    * 災害発生ときに最小時間でITサービスを復旧させ、事業を継続させるための事業継続計画（BCP）をたて、事業継続管理（BCM：Business Continuity Management）を実施する
                * 可用性管理は四つの側面をモニタ、測定、分析、報告する
                    * 可用性
                        * 必要なときに合意された機能を実行する能力
                    * 信頼性
                        * 合意された機能を中断なし実行する能力
                    * 保守性
                        * 障害の後、迅速に通常の稼働状態に戻る能力
                    * サービス性
                        * 外部プロバイダが契約条件を満たす能力
        * キャパシティ管理（サービス提供プロセス）
            * 最適なコストで合意された需要を満たすために、サービス提供者が十分な能力を備えることを確実似する一連の活動
                * サービスがSLAの目標を満たすように、サービスをモニタし、パフォーマンスを測定する
                    * CPU、メモリ、ディスク、ネットワークなどの利用率を監視＆管理し、それぞれのリソースの閾値を設定する
        * インシデント及びサービス要求管理（解決プロセス）
            * 顧客へのサービスを迅速に回復し、提供を続けるためのプロセス
                * インシデントとは、ITサービスの計画外の中断、品質の低下のことです．
                    * インシデントについては識別、記録し、優先度付けを行なっている
        * 問題管理（解決プロセス）
            * 一つまたは複数のインシデントの根本原因のことを問題と言い、その問題を突き止めて、登録し管理するのが問題管理
                * 根本原因より対策し、再発防止する
        * 構成管理（統合的制御プロセス）
            * サービスや製品を構成する全てのCI（Configuration  Item：構成品目）を識別し、維持管理する
                * 大規模かつ複雑なITサービスとインファルコンを管理するため、CMS（Configuration  Management System：構成管理システム）を構築して一元管理する
                    * CMSで使われるデータベースを構成管理データベースCMDBといい、プロジェクト情報やツール、イベントなど様々な情報を一元管理している
        * 変更管理（統合的制御プロセス）
            * 文書の変更を安全かつ効率的に行うための管理、事業やITからのRFC（Request for Change：変更要求）を受け取って対応する．全ての変更は漏れなくCMDBに記録し、反映させるが必要です．
                * 事業戦略やビジネスプロセスの変更など様々なものがある．そのため、顧客やユーザ、開発者、システム管理者、サービスデスクなどの様々な立場の利害関係者が定期的に集まり、変更をアセスメントするCAB（Change  Advisory Board：変更諮問委員会）が開かれる
        * リリース及び展開管理（統合的制御プロセス）
            * 変更管理プロセスで承認された変更内容を、ITサービスの本番環境に正しく反映させる作業（リリース作業）を行うのがリリース管理及び展開管理
                * リリース管理では、本番環境にリリースした確定版の全てのソフトウェアのソースコードや手順書、マニュアルなどのCI（構成品目）を一か所にまとめて管理する．このまとめておく書庫のことをDML（Definitive Media Library：確定版メディアライブラリ）と言い
###### ITILv3
* サービス戦略を中核
    * ITサービスの指針を定義する段階
* サービス設計
    * 適切なITサービスを設計及び開発する段階
* サービス移行
    * サービスの実現を計画立案及び管理する段階
* サービス運用
    * サービスの提供とサポートに必要な活動をする段階
* 継続的サービス改善
    * ITサービスの有効性と効率性を継続的に改善する段階
#### 運用管理のポイント
##### 1．システムの導入するだけでなく、日々の運用で管理する
##### 2．ログのチェックなどを日々行い、問題がないか確認する
##### 3．マニュアルを作成し、それを最新の状態に維持する
##### 4．役割、責務を分担し、窓口を一つにする
##### 5．トラブル報告（メールなど）は、数が多くなりすぎるとチェック機能が動かなくなるので、必要な十分な数に絞り、そのため、同じ原因と思われるトラブルは一つにまとめて報告できるようにする
##### 6．トラブルが起こったとき、回線の事業者に連絡する前に、自社のネットワークに問題がないかを確認する
##### 7．障害時の対応が適切かどうか、訓練をして確認する
##### 8．関係する人の負担は、極力少なくする
###### 自動化する、マニュアルや設定などを予め用意するなど
## システムの導入、現行システムからの移行
### 導入
#### システムを稼働環境に導入するためには、資産の引き継ぎ、稼働環境の準備、実施計画の作成などが必要
##### 導入ときには運用テストを行い、それで運用テスト計画を作成し、実際の運用環境でテストを行う
### 移行
#### 単純移行
##### 全システムを一度に移行する
#### パイロット移行
##### 特定の一部（パイロット）だけを先行して移行
#### 並行運用移行
##### 新旧環境での並行運用を行う
###### メールシステムの移行は新旧並行が多く利用している、メールの情報をサーバに保管する場合には、IMAPを利用して、クライアントのメール情報をサーバに転送する必要なケースがある
#### 移行時には、失敗しても最低限、現行システムは稼働できるようにするため、問題発生時に元に戻せることが大切
## 事業継続マネジメント：BCM
### リスクマネジメント
#### リスクに関して組織を指揮し、管理する．
##### リスク分析
###### 資産情報に対する脅威と脆弱性を洗い出し、そのリスクの大きさを算出
* リスクの大きさは発生確率、事象が起こった時の影響の大きさとの組み合わせたもので、金額などで算出され
* リスクの大きさに基づき、それぞれのリスクに対してリスク評価を行う
### リスク対応
#### 最適化（低減）
##### 損失の発生確立や被害額を減少させるような対策を行うことです
#### 回避
##### リスクの根本原因を排除し、そのリスクをゼロにすること
#### 移転
##### リスクを第三者へ移転する．保険など
#### 保有（受容）
##### リスクに対して特に対応はせず、そのことを受容する
### BCP：Business Continuity Plan：事業継続計画
#### BCMの成果物であり、リスク発生時に企業がいかに事業を継続を図り、サービスの欠落を最小限にするかを目的とする経営計画です
##### RPO：Recovery Point Objective：目標復旧時点
##### RTO：Recovery Time Objective：目標復旧時間
##### RPO以前のデータを復旧し、RTO以内で再開できるようにするために事前に計画を策定する
