# ネットワーク

## 通信プロトコル

### OSI（Open System Interconnection）

- 物理層

	- 物理的な条件や電気的な条件を規定する

		- 具体例：DTE／DCEインタフェースを管理する層で、V.24やX.21などが対応する

			- Data Terminal Equipment
			- Data Communication Equipment？

	- モデムやDSUを制御し、通信回線を介してビット単位の伝送を行う

		- モデム・DSU（Digital Services Unit）：端末装置と通信回線とを接続するための回線終端装置。アナログ回線ではモデル、ディジタル回線ではDSU

			- 调制解调器？

- データリンク層

	- 隣接したノード間における伝送制御手順を規定し、隣接ノード間のフレーム単位の電装を保証する

		- 具体例：SDLC、HDLCやCSMA／CD、PPP、STP、フレーム中継、トークンパッシングなどの伝送制御手順が対応する、L2TPなど

	- 物理アドレス（MAC）、データフレーム、データ量のコントロール、データフレームの誤り検出、再送

- ネットワーク層

	- 通信経路の選択方式（ルーティング）や中継方式を規定し、パケット単位での伝送を保証する。

		- 具体例：IP、IPX、RIP、OSPF 、X.25（パケット交換プロトコル）などが対応する

- トランスポート層

	- この層からTTT（Terminal To Terminal）を上の層にサポート
	- 伝送路のデータの伝送誤りの検出や回復の制御を規定する。また、通信網の違いを吸収し、信頼性が高く経済的な通信機能を提供する

		- コネクション型、コネクションレス型の両方サービスを提供、TCP、UDP、SPX等

- セション層

	- 会話単位の制御を行う。通信の開始や終了など、エンドユーザ間の会話を正しく行うことができるように、回線の接続・切断などの制御方法を取り決める

		- 全二重・半二重などの通信方式、送信権制御、同期制御、再送などの機能を提供する

- プレゼンテーション層

	- 送受信するデータの文字コードや形式、暗号化、圧縮など、データの表現形式を取り決める

		- 個々のプロセスで扱うデータ型や符号を共通的な物に変換して送信する。このため、アプリケーション層では符号を意識しないで済む

- アプリケーション層

	- エンドユーザ間のデータのレコード形式や内容を規定する。OSI窓口として、応用プログラムや端末の利用者に対して、通信機能をていきょうする

		- FTAM（ファイル転送）、MHS（電子メール）、VT（仮想端末）、TP（トランザクション処理）、Telnet、FTP、HTTP、SNMPなどがある

### TCP／IP（Transmission Control Protocol／Internet Protocol）

- OSIとの対応関係

	- ネットワークインタフェース層

		- OSIの物理層、データリンク層対応

			- MAC

				- リンクバイリンク、一つのリンク（ネットワーク）ごとに宛先が変わる

			- CSMA／CD、FDDI、PPP、トークンパッシングなど
			- PPP（Point To Point）

				- 通信回線を介してネットワーク接続に用いられるWAN用のプロトコルである
				- インターネットのダイヤルアップIP接続では、一般的にPPP接続でIPCPを使用するため、利用者がグローバルIPアドレスを取得しないですむ

					- IPCP（IP Control Protocol）は、リモートLANアクセスにおいて、アクセスサーバがクライアントに自動的にIPアドレスをわりあてるきのうである

	- インターネット層

		- IP、ARP、RARP、ICMP、RIP、OSPFなど
		- コネクションレス型のパケット伝送を行うIP、アドレス解決を行うARPやRARP、ネットワーク内の異常診断と通知を行うICMP、ルーティングを行うRIPやOSPFなどのProtocolがある

			- IP

				- IPパケットをコネクションレス型で送受信するのに必要なプロトコルを規定している

					- エンドツーエンド、通信の最初から最後まで（NAT、NAPT等除く）を管理するため、送信元IPアドレスと宛先アドレスは基本的に変わらない

				- IPアドレス

					- IPv4

						- クラスA（大規模）

							- 0：ネットワーク部7ビット：ホスト部24ビット

								- 0.0.0.0 — 127.255.255.255

						- クラスB（中規模）

							- 10：ネットワーク部14ビット：ホスト部16ビット

								- 128.0.0.0 — 191.255.255.255

						- クラスC（小規模）

							- 110：ネットワーク部21ビット：ホスト部8ビット

								- 192.0.0.0 — 223.255.255.255

						- クラスD（マルチキャスト）

							- 1110：マルチキャストアドレス：28ビット

								- 224.0.0.0 — 239.255.255.255
								- マルチキャスト：システム内で選択された複数の端末やグループに対して、同一メッセージを送ることである
								- ブロードキャスト：ネットワーク上の全システムに対して同一メッセージを送ることである

						- クラスE（試験）

							- 11110：アドレス27ビット

								- 実際に使われることはない

					- IPv6

						- 表記

							- 128ビットのプロトコルである、4桁の16進数を“:”（コロン）で切って8個並べ

						- 特徴

							- DHCPサーバがなくても、IPアドレス自動設定可能
							- ルータの負荷軽減

								- 固定長ヘッダとなり、ルータはエラー検出を行なう必要がなく

									- チェックサムは廃止された

							- セキュリティの強化

								- IPsecのサポートが必須になった

							- 3種類

								- ユニキャストアドレス

									- 一つインタフェースに割り当てる

								- マルチキャストアドレス

									- 複数のノードに割り当てられる

								- エニーキャストアドレス

									- ネットワーク上で最も近い一つだけと通信

							- 資源の予約

								- Traffic Classにより優先制御

									- IPv4ではTOS（Type Of Service）

						- 種類

							- グローバルユニキャストアドレス

								- ルータを超えて、インターネット上で通信可能なアドレスで、グローバルアドレスとも呼ばれる。
								- 現在は、 RFC 3587 により、アドレスの先頭3bitが001であるアドレスのみIANAが割り振りを行っている。

							- リンクローカルユニキャストアドレス (RFC 1884)

								- 各ネットワークインターフェース毎に、初期化時に自動生成し、LANの同一セグメント内でのみ有効なアドレス
								- プレフィックスは常に fe80::/64となる。

							- ユニークローカルユニキャストアドレス (RFC 4193)

								- IPv4におけるプライベートIPアドレスと同様に、ローカルでの使用向けに使われるアドレス。
								- fd00::/8 アドレスの一部をランダムに生成して使用する。完全な一意性は保証されないものの、異なる組織でアドレスが重複する可能性は低い。

							- ループバック

								- ::1

						- IPv4との互換性

							- デュアルスタック

								- ルータやサーバなどの機器にIPv4とIPv6の両アドレスを割り当て、 どちらの方式でも通信できるようにする仕組

							- TCP Relay (faith)

								- IPv6/IPv4トランスレータと呼ばれる装置によって、プロトコル変換を行う方法

					- サブネット分割

						- プライベートIPアドレス

							- クラスA

								- 10.0.0.0 — 10.255.255.255

							- クラスB

								- 172.16.0.0 — 172.31.255.255

							- クラスC

								- 192.168.0.0 — 192.168.255.255

						- CIDR（Classless Inter−Domain Routing）

							- クラスに限らなく、柔軟にカスタマイズ

						- IPアドレスのホスト部をサブネット部とホスト部に分割することである
						- サブネットマスク

							- サブネット部とホスト部に分けるためのビットパターン
							- ルーティング制御で、同じサブネット部のIP間は同一サブネットと認識、直接通信は可能
							- 単独利用はできない、IPアドレスを合わせてサブネット部を決めること
							- ホスト部の全0はネットワークを代表、全1はブロードキャスト用

			- ARP：Address Resolution Protocol

				- IPアドレスからMACアドレスを取得

					- ARP要求パケットをブロードキャストで送出、いpアドレスが該当する場合は、ARP応答パケットをユニキャストで送出

			- RARP：Reverse ARP

				- MACアドレスからIPアドレスを取得

					- 主に、ハードディスクがなく、自分のIPアドレスを保持しておけないPCなどで利用する

			- ICMP：Internet Control Message Protocol

				- 異常発生の通知や通信経路の診断（ping、tracert、routetracert）

			- RIP：Routing Information Protocol

				- 目的ノードまでの最小ホップ数の経路を選択

			- OSPF：Open Shortest Path First

				- 目的ノードまでの最も効率的な経路を選択（RIPより、回線速度、料金なども含めて決定する）

	- トランスポート層

		- TCP、UDP、RSVPなど
		- TCP（Transmission Control Protocol）

			- アプリケーション間に仮想的な通信路を設定し、ポート番号を基にセグメント単位にデータの送受信を行う
			- 通信開始から終了までの通信路の信頼性を保持し、データの正常な通信の制御やエラーの検出、回復を行う。そのため、コネクション型の伝送方式である

		- UDP（User Datagram Protocol）

			- TCPにおける各種の制御を省略し、コネクションの確率を行わないコネクションレス型の伝送方式である。
			- 信頼性が低いが、オーバヘッドは少ない

				-  HTTP2、SPY2？

		- RSVP（Resource reSerVation Protocol）

			- TCP／IPのパケット交換機能を用いて、リアルタイム通信を行うプロトコルである。
			- 通信を開始する前に、通信経路上の全ルータに対して利用する帯域（伝送速度）を指定しておく

	- アプリケーション層

		- OSIのセッション層、プレゼンテーション層、アプリケーション層対応

			- TELNET、FTP、SMTP、POP、RPC、SNMP、HTTP、IMAP、MIME、NFS、DNS、DHCP、NTPなど

		- フレーム例

			- FCS→アプリケーションデータ→TCPヘッダ→IPヘッダ→イーサネットヘッダ

- 国際規格ではないが、アメリカ推進、インターネットの標準的なプロトコルとして使われている。このように、事実上、標準化となっているとを、デファクトスダードという

## 符号化と伝送

### 変調・符号化

- アナログ伝送

	- 300〜3400hz帯域のアナログ信号を使う
	- 変調：回線の出入口でディジタル信号からアナログ信号への変換
	- 復調：変調の逆：変換を行う装置はモデルである
	- 変復調装置：変調や復調を行う装置

- ディジタル伝送

	- 送信側のDTEからの信号をDSUが伝送に適した形式に変換する

		- DCE（Data Circuit−terminating Equipment：データ回線終端装置）
		- DTE（Data Terminal Equipment：データ端末装置）

	- 変更方式はエンベロープ形式

		- 6ビットのデータ信号の前に同期用のフレームビット、後ろに通信状態を示すステータスビットを付加するの8ビット形式

	- ベアラ信号

		- エンベロープ形式の信号

	- ベアラ速度

		- ベアラ信号伝送の速度

- PCM（Pulse Code Modulation）

	- アナログの音声データをディジタル符号化する技術

		- 送信側：一定時間ごとの同間隔のパルスに分解する標本化（サンプリング）を行い、次に、標本化で測定された数字を近似値乗せ1数に丸める量子化を行う。最後に、量子化された数値を2進数のコードに変換（符号化）する

			- 標本化→量子化→符号化

		- 受信側：符号化情報を復号化した後、伸長を行い、素の量子化された振幅を再生し、元のアナログを再生する。

	- 雑談

		- 標本化定理：対象とするアナログ信号の最高周波数をfとすると、2f以上の周波数で標本化して伝送すれば、元のアナログ信号に復元できるの考え方である
		- 電話などの通話で、相手の音声を違和感なく聞き取れる周波数を3.4KHz≒4KHz、したがって、8KHzで標本化、量子化した値を8ビットコードで符号化する場合必要なディジタル伝送速度は64Kbps

			- それもISDNの基本インタフェースのBチャネルの側道が64kbpsの根拠となっている

		- クロックのn分周は、基準のHzをn個を一個にみなして調整後のHz

### 同期制御

- ビット同期

	- 調歩同期式

		- 非同期式、スタートストップ方式、1文字（8ビット）の開始を示すスタットビット“0”（スタートエレメント）と、終わりを示すストップビット“1”（ストップエレメント）をつけ
		- 受信側はスタートビットを受信すると、一定の時間間隔（送受信側であらかじめ決めておく）で8ビット分受信し、最後がストップビットであることを確認する。

			- 通信していない場合は連続で“1”の状態で送信（ストップビット）
			- 伝送効率が悪く、低速（1200bps以下）の回線に用いられる

- ブロック同期

	- SYN同期式

		- キャラクタ同期式、同期式、連続同期式、データの始まりを示すSYN符号（01101000）を最初にいくつか送り、受信側はSYN符号が到着すると、その後のデータを8ビットずつ取り出して文字を組み立てる

			- データ自身に01101000が含まれたら困る

	- フラグ同期式（フレーム同期式）

		- デーたを伝送していない間でも、一定パターンの同期信号（フラグシーケンス）を送り続ける方式で、常に同期が取れている状態になっている
		- フラグシーケンスの例：01111110 01111110
		- SYN同期式より効率が良く、高速の伝送を行う端末に適している。例：HDLC

			- HDLC

				- データ部において、1であるビットが５つ連続すると、0のビットを挿入する。これによって、フラグシーケンスと同じビットのパターンが出現しないようにしている

					- 受信側ではデータ部にて、５つ連続の1があると、後ろの0ビットを削除

### 誤り制御

- パリティチェック方式

	- LRC（Longitudinal Redundancy Check：水平パリティチェック）
	- VRC（Vertical Redundancy Check：垂直パリティチェック）

- 奇偶パリティ
- ハミング符号
- CRC方式

	- Cyclic Redundancy Check：巡回冗長検査はランダム誤りやバースト誤りを検出できる、HDLCやCSMA／CDなど、フレーム伝送を行う伝送制御手順として用いられている

		- バースト誤り

			- 一連のデータ列中に連続して複数出現する誤りである、伝送路のノイズなどが原因で複数のビットが連続的に壊れる場合に発生する

		- ランダム誤り

			- データ列なかに、ランダムにデータの誤りが発生すること

	- 任意のビット列を多項式とみなし、それを定められた多項式（生成多項式）で除算し、その余りを固定長の冗長ビットとして伝送単位の最後に付加して伝送する

## ネットワーク

### LANとWAN

- 種類

	- WAN（Wide Area Network）

		- 電気通信事業者が提供する通信サービスである。専用線、回線交換、パケット交換、フレームリレー、ATMなどが提供されている

	- LAN（Local Area Network）

		- 同一建物内や敷地内、WANとの区別は運営・管理者はユーザ主体である

			- IEEE802の3、4、5標準（CSMA／CD、トークンパス、トークンリング）
			- イーサネット（Ethernet）：Xerox社とDEC社が考案したLANの規格で、IEEE802.3委員会によってい標準化された。CMDA／CDを採用したバス型LANとスター型LANで、現在ほんとんどのLANがイーサネットである

	- MAN（Metropolitan Area Network）

		- 都市域網：一つ都市に範囲を限定したネットワークで、都市部で高速なネットワークの構築にりようされる

- 接続形態（トポロジ：topology）

		- バス型（両側に終端抵抗ある）

			- レイアウト変更が容易、構成が単純で信頼性が高い
			- バス上でトラフィックが輻輳しやすく、パフォーマンスが低下する

		- リング型（サイクル型）

			- ノードが制御するので信号の増幅が容易、特別な制御装置が不要
			- ノードが故障すると、ネットワークが停止、レイアウトの変更が面倒

		- スター型（中心に制御装置ある）

			- レイアウトの変更や障害箇所の特定が容易
			- 制御装置に障害が発生するとネットワークが停止

- 伝送媒体

	- 同輻ケーブル

		- 細芯同輻（10BASE2に使用）、標準同輻（10BASE）5に使用
		- 耐電磁波：普通
		- 支線、幹線

	- 対線（ツイストペア線）twist pair

		- STP（Shielded Twisted Pair）、UTP（UnShielded Twisted Pair）
		- 耐電磁波：弱い
		- 支線

	- 光ファイバケーブル

		- シングルモード（SMF）、マルチモード（MMF）
		- 耐電磁波：強い
		- 支線、幹線

- LANのアクセス制御方式

	- TDMA（Time Division Multiple Access）

		- タイムスロットを設け、それを送信要求端末に割り当てる、転送遅延は発生しない（というより、固定ではないか）

	- CSMA／CD方式：Carrier Sense Multiple with Collision Detection

		- 主にバス型とスター型に用いられる
		- 発送側は伝送路上データがないと送信する、衝突すると効率が悪くなる

			- Carrier Sense

				- 誰も使っていなければ使用可能

			- Multiple Access

				- 全員向けに送る

			- Collision Detection

				- 衝突が起こったら検出

					- ランダムな時間待機してから再送をためす

	- CSMA／CA

		- Carrier Sense Multiple Access with Collision Avoidance

			- CSMA／CDとほぼ同じ手順を無線LANに適用した方式
			- 無線LANで回線が空いているかどうかの通信状況を監視しにくいため、送信後に受信側からACK信号が到着したら送信が成功したものとみなす

	- トークンパッシング方式（TokenPassing）

		- トークンを常にLAN上に循環させ、各装置はトークンを得ることにより送信権を得て送信を行なう

			- トークンバスとトークンリング方式がある

		- 衝突により再送の発生がネットワークの負荷状態によって増加することはない

- 無線LAN機能

	- SSID：Service Set Identifier

		- 複数のアクセスポイントに同じSSIDを設定することができるので、ローミングが可能です。アクセスポイントが変わっても接続が維持されること

			- ステルス可能
			- ANYという特殊なSSIDがある

	- 暗号化

		- WEP：Wired Equivalent Privacy

			- →

				- WPA：Wifi Protected Access

					- →

						- WPA2

	- 認証

		- MACアドレス認証など、認証規格であるIEEE 802.1X

- LAN間接続装備

	- ゲートウェイ

		- トランスポート層以上を対応
		- プロトコルの異なるLANを接続する装置やソフトウェア通信サーバともいう

	- ルータ

		- ネットワーク層
		- IPアドレスによる通信経路の選択、フィルタリングを行う制御方式が異なるLANでも接続できる

			- ルーティングを高速に行う事に特化したルータを、レイヤ3スイッチという。ハードウエアレベルで処理するだから

	- ブリッジ

		- データリンク層
		- 宛先のMACアドレスを見て、フィルタリングををする制御方式が同じことLANに限定される

			- MACアドレス（Media Access Control）

				- LANにコンピュータを接続するとき使用スルネットワークアダプタに固有に与えられた番号である。
				- 全世界のネットワークアダプタにユニークな番号が割り当てられており、これを元にネットワークアダプタ間のデーた送受信がお壊れる
				- MACアドレスが有効なのは、１つのLANの中だけである

	- スイッチングハブ

		- データリンク層
		- スパニングツリー

			- ループを回避ために、優先するスイッチとそうでないスイッチを決め、論理的に接続を切断してループを止め

		- VLAN：仮想LAN

			- 一つのスイッチに接続されているPCを、論理的に複数のネットワークに分ける仕組みです。

		- 認証スイッチ

			- IEEE 802.1X規格

	- リピータ

		- 物理層
		- LANの伝送距離を伸ばすのに使われ、最大4台まで接続可能制御方式が同じLANに限定される

	- リピータハブ

		- 物理層

- LANの規格（IEEE 802規格）

	- 10BASE2

		- 10Mbps
		- バス型
		- 細芯同軸
		- セグメント長：185m

	- 10BASE5

		- 10Mbps
		- バス型
		- 標準同軸
		- セグメント長：500m

	- 10BASEーT

		- 100Mbps
		- スター型
		- UTP（UnShielded Twisted Pair）
		- セグメント長：100m

	- 100BASE−FX

		- 100Mbps
		- スター型
		- MMF（Multi−mode optical fiber）
		- セグメント長：2km

	- 100BASE−TX

		- 100Mbps
		- スター型
		- UTP
		- セグメント長：100m

	- 100BASE−SX

		- 1Gbps
		- スター型
		- MMF
		- セグメント長：550m

- カテゴリ：ツイストペアケーブルの規格規格

	- 1．電話線
	- 2．IDSN
	- 3．10BASE−T
	- 4．トークンリング
	- 5．100BASE−TX
	- 5e：1000BASE−T
	- 6：10GBASE−T

- LANの無線規格（802.11）

	- 802.11b

		- 2.4GHz、約11Mbps

	- 802.11a

		- 5.2GHz、約54M bps

	- 802.11g

		- 2.4GHz、約54Mbps

	- 802.11n

		- 2.4または5GHz、最大600Mbps

	- 802.11ac

		- 5GHz、最大6.93Gbps

- その他

	- センサネットワーク
	- PLC（Power Line Communication：電力線通信）

## ネットワーク技術

### FTP

- File Transfer Protocol：ホスト間ファイルを転送するプロトコル

	- 21、22

- ポート：20、21を利用、制御と転送分けて、クライアント側のファイルウォル対応のため逆制御機能ある

### TELNET

- TELecommunication NETwork（仮想端末プロトコル）

	- 23

- 遠隔地にあるコンピュータを遠隔操作するためのプロトコル

### SMTP

- Simple Mail Tranfer Protocol

	- 25
	- SMTPS：465、587

- ユーザ認証機能が持っていない、、セキュリティ上、POPサーバに認証を行わせてからメールを送信するしくみを、POP Before SMTPという
- SMTP AUTH：SMTP AUTHentication：SMTP認証がある

### POP

- Post Office Protocol

	- POP2：109
	- POP3：110
	- POP3S：995

- メールクライアントがメールサーバからメールを取り出すプロトコル、デフォルトではサーバに残せず

### IMAP

- Internet Messaging Access Protocol：最新バージョン4

	- 143
	- IMAPS：993

- POP3の拡張版、選択的にメールを取り出すプロトコル

### RPC

- Remote Procedure Call

	- 指定しない場合の動的分配：1024〜5000

- プログラムの一部の処理を他のコンピュータに任せるためのプロトコル

### SNMP

- Simple Network Management Protocol

	- 161、162

- UDPベース

	- マネージャ

		- 集中的にモニタリングして監視を行うためのサーバやPC

	- エージェント：agent

		- 監視されるネットワーク機器

			- サーバへSNMPトラップ

	- MIB：Management Information Base：管理情報ベース

		- やり取りされた情報を集約される階層型データベース

### HTTP

- HyperText Transfer Protocol

	- 80

### SOAP

- Simple Object Access Protocol

	- ソルトウェア間オブジェクト交換するXMLベースのプロトコル

### CORBA

- Common Object Request Broker Architecture

	- ソフトウェアのオブジェクトをネットワークを通じてやり取りするための規格です。データはCDR（Common Data Representation）けいしきで送る

### MIME

- Multipurpose Internet Mail Extension
- バイナリデータを送信するための電子メール拡張プロトコル

### S／MIME

- （RSA）で暗号化のMIME、利用すると送受信両側対応が必要である

### NNTP

- NetNews Transfer Protocol

	- 119

### NTP

- Network Time Protocol

	- 123

- 内部時計をネットワークを介して合わせるプロトコル

### DHCP

- Dynamic Host Configuration Protocol

	- 67、68、546、547

### DNS

- Domain Name System

	- 53

- ドメイン名

	- メールアドレスの後半部
	- ユーザ名＠ホスト名.組織名.分類.国名

- 構造＆管理

	- 1台のネームサーバによって管理されるドメイン名の範囲をゾーンといい
	- 上位／再帰問い合わせは可能です（セキュリティ上外部再帰問い合わせは禁止した方が良い何も）

		- 現在（2019）最上位DNSサーバは全世界に13台配置されておりの

	- ICANN（Internet Corporations for Assigned Names and Numbers）：全世界のドメイン名、アドレス、プロトコルなどの管理

		- 日本のドメイン管理は、株式会社 日本レジストリサービス（Japan Registry Service Co.Ltd：JPRS）

### IPsec

- Security Architecture for Internet Protocol：IPパケットの暗号化と認証を行うセキュリティ技術

	- IPv4ではオプション
	- IPv6では標準で実装されている

- 共通鍵暗号化方式が使われており
- IKE（Internet Key Exchange）という自動鍵交換プロトコルを用いている

### インターネットとの接続

- 通常は、ISP（Internet Service Provider：プロバイダ）を利用する

	- 専用線接続

		- 企業の内部ネットワークとインターネットを専用線で常時接続する方法がある
		- ドメイン名、グローバルIPの取得が必要

	- ダイヤルアップIP接続

		- 電話回線やISDN、PHSなどを使用して、インターネットに接続するときだけPPPで接続する方法である
		- ドメイン名やIPアドレスの取得が不要

	- ASDLや光ファイバケーブル

### イントラネット（intranet）

- 企業内ネットワーク
- ネットワークと同じ操作性で、短期間に安価なシステムを構築できる

### エクストラネット（extranet）

- イントラネットを企業間に拡大したネットワークである
- イントラネット間の通信は、インターネット経由可能

### NAT／NAPT

- プライベートIPアドレスとグルーバルIPアドレスの相互変換のプロトコル
- NAT

	- Network Address Translation
	- 1対1の相互変換

		- 静的NAT

			- SNAT

		- 動的NAT

			- DNAT

- NAPT

	- Network Address Port Translation、IPマスカレード
	- ポート番号とグルーバルIPアドレスを組み合わせて使用する、複数のプライベートIPを、１つのグローバルIPアドレスに対応させることができる
	- インターネット側から内部のホストに接続を開始するような使い方ができない

### CIDR（Classless Inter−Domain Routing）

- IPアドレスの不足を補う方法
- IPアドレスのクラスを一時的に無視し、ネットワーク部に使用するビット数をIPアドレスに含ませる方式
- 例：192.168.0.0/28：28はネットワーク部のビット数、残りはホストビット数である

### SDN：仮想ネットワーク

- ネットワークの構成や機能、性能などをソフトウェアだけ動的に設定できる
- 代表例

	- OpenFlow

		- ONF：Open Network Foundationが標準化を進めているSDN規格
		- 制御用のネットワークとパケット処理用のネットワークが分離されている

			- コントロールプレーン：Plain

				- OpenFlowコントローラ

					- 経路制御などの管理機能実行の機器

			- データプレーン

				- OpenFlowスイッチ

					- パケットデータ転送

	- NFV：Network Functions Virtualization

		- ETSI（欧州電気通信標準化機構）によって提案された
		- 汎用サーバでネットワーク機器を使用することが可能になる、SDNの補完する技術

## 関連法規と通信サービス

### 電気通信事業法

- 届出電気通信事業者

	- 電気通信回線設備を設置する事業者

		- 端末系伝送設備が１つの市町村（特別区・政令指定都市では「区」の区域に留まること）
		- 中継系伝送設備が１つの都道府県の区域に留まること

	- 電気通信回線設備を設置しない事業者

- 登録電気通信事業者

	- 届出電気通信事業者の要件の内、設備設定範囲を越える回線設備を設置して電気通信事業を営む事業者である

### 電話回線

- FTTH

	- Fiber To The Home

		- 光纤到户

- ADSL

	- Asymmetric Digital Subscriber Line

		- 既存のアナログ回線を拡張利用して、高速なデータ通信を実現
		- スプリッタという装置によって音声とデータを分離および混合する

### 通信サービス

- フレームリレー

	- フレームの区切ったデーたでディジタル伝送、エラー訂正、確認応答、再送制御等を行わないため高速化を実現

		- 誤り訂正・再送信手順や送・受信順序制御などが端末装置に必要である。

	- データを高速で伝送することを目的としたデータリンク制御手順で、品質の高い回線の使用を前提としたものである
	- LAN間接続など、大規模企業内情報通信ネットワークを経済的に構築することができる

- PPP

	- 2点間を接続してデータ通信を行なうためのプロトコルで、ダイヤルアップネットワークで使用されてきました
	- 主に、通信相手の認証や、IPアドレスの取得などを行なう

- ATM

	- Asynchronous Transfer Mode：非同期転送モード
	- 全ての情報を53バイトの固定長のセル（ATMセル）という単位で扱い、高品質な回線を使うという前提で、プロトコルを簡略化している

		- 固定長のため、交換処理をハードウェアで実現時ており、高伝送効率と低遅延ができる
		- 5バイトはヘッダに使われ、48バイトが情報転送で、この固定長のセルが多重化・交換の単位となる
		- セルリレー
		- 通信会社のバックボーン回線でよく用いられる

- VPN（Virtual Private Network）

	- IP−VPN

		- 電気通信事業者の保有する広域IP網を介して構築されるVPN
		- 専用線を導入よりコストを抑えることができる

	- インターネットVPN

		- 様々のセキュリティ技術を使われて、インタネットを介して構築される
		- コストはIP−VPNよりさらに低く

- VoIP

	- Voice over IP

		- インタネットなど、IPアドレスを利用して音声信号を送る技術の総称である
		- 例：アナログ電話機⇄PBX（公衆電話網）⇄VoIPゲートウェイ⇄ルータ（IP網）⇄VoIPゲートキーパ⇄IP電話機

			- VoIPゲートウェイ

				- 電話網とIPネットワークを相互接続（アナログ＜ー＞ディジタル相互変換）するゲートウェイである

			- PBX（Private Branch Exchange：構内交換機）

				- 電話回線、内線の機器相互交換、WANに接続して通話やデーたを伝送

			- VoIPゲートキーパ

				- 電話番号やIP電話のIPアドレスの変換、帯域や呼び出し、切断の制御などの機能をもつVoIP装置である。ルータ相当

					- H.323：ITU−T（国際電気通信連合・電気通信標準化セクタ）が勧告、ネットワーク上で音声・動画を1対1で送受信するために音声、映像方式。デーた圧縮伸張方式などを定めている
					- SIP：Session Initiation Protocol：完全インターネットベースのIP電話用の呼制御プロトコル

### 広域イーサネット

- 地理的に離れたLAN間などをイーサネットインタフェースで接続する電気通信サービスである
- VPNに比べると

	- 通信速度が速く遅延も小さい

		- 専用線近い

	- 網構成の自由度が高く処点の追加・プロトコルの変更などに柔軟に対応
	- IP以外の通信プロトコルを利用する場合でもイーサネットへ変換のみで済む
	- 安価なVLAN対応のレイヤ2スイッチやレイヤ3スイッチが使用かのう
	- 提供地域が狭くアクセスかいせんの費用が高くなることがある

### ベストエフォート（best effort、最善努力）

- 信頼性や高速性やスループットの保証しないが、料金面が安くなる
- 通信品質は伝送負荷次第

## ネットワーク応用

### ネットワークの利用

- ARPANET（Advanced Research Project Agency NETwork）を母体として生まれた全世界のネットワークを相互に接続した巨大なネットワークである
- Web

	- ハイパテキスト（HyperText）

- モバイル通信

	- PDA（Personal Digital Assistance）

- 衛星通信

	- 伝送遅延が大きく、大出力を要することから端末機の小型化が困難である

		- 2019年現在

	- 科学衛星

		- 大気や電離層の影響で地上では困難な天体の観測や宇宙せんの観測をもくてきとしたえいせい

	- 実用衛星

		- 通信衛星や放送衛星、気象衛星など、通信や情報収集を目的とした衛星である

- CATV（Community Antenna TeleVision：ケーブルテレビ）

	- 人工衛星からの放送をアンテナで受け、ある地域にサービスする形態もCATVと呼ばれることがある
	- CATVを経由したインターネット接続サービスやビデオオンデマンドなども提供されている

		- VOD：Video On Demand

			- ケーブルテレビ網や光ファイバ網にコンピュータシステムを組み合わせて、個々のユーザの要求に合わせて、見たい時に見たい映画を放送するシステムである

- 省電力の通信規格

	- LPWA

		- Low Power、Wide Area

			- ZigBee、LoRa WAN、Wi−SUN、SIGFOX、NB−IoTなどがある

### 通信サービス

- ADSL（Asymmetric Digital Subscriber Line：非対称ディジタル加入者線）

	- 既設の電話回線を利用、回線交換が必要
	- 音声帯域以外の帯域を使っている、劣化が激しいため、利用できるのは基地局からの電話線の長さがおよそ6〜7kmまでに限定され
	- 実際の通信速度は回線の距離や質より大きく左右されている
	- ADSLモデム

		- ADSL信号とLAN信号の相互変換機器

	- スプリッタ（splitter）

		- 音声信号とデータ信号を分離する装置である
		- 必須ではないが、ないとノイズが発生する

- DSL（Digital Subscriber Line）

	- 既設の電話回線を用いて高速なディジタルデータ伝送を行うぎじゅつ
	- 同じく距離より電気信号が劣化され、ISDNと混信されたっりもある

- IP電話

	- 音声の伝送にIP電話網という専用のネットワークを利用

		- インターネット電話はインターネットを利用

- W−CDMA

	- Wide band Code Division Multiple Access
	- 3G標準の１つ

		- 高速移動：144Kbps、歩行：384Kbps、静止：2Mbps

- LTE（Long Term Evolution）

	- 3.9G、4Gと呼ばれるが、実は3Gを長期進化の意味
	- 理論上下がり：100Mbps以上、上り：50Mbps以上

- LTE−Advanced

	- 4G、LTEの10倍程度の速度

- VoLTE（Voice over LTE）

	- 音声通話をデータ通信（パケット通信）として提供する技術

- WiMAX（Worldwide Interoperability for Microwave Access）

	- 半径役50KMをカバーし、最大75Mbpsの通信が可能
	- ほぼWiMAX2に代替された

- 移動体通信事業者

	- モバイル通信サービスをていきょうする事業者
	- MVNO（Mobile Virtual Network Operator：仮想移動体通信事業者）

		- 無線通信回線設備を開設・運用せずに、自社プランドで携帯電話やPHSなどの移動体通信サービスを行う事業者である

			- 日本では2001年BーMobileではじまり、現在多く利用されている

		- 電気通信事業者の内、モバイル通信サービスを提供する事業者

- LPWA

	- LowPower、WideArea

		- バッテリ消費量が少なく、一つの基地局で広範囲をカバーできる無線通信技術、IoT等で活用されている、複数のセンサが同時につながるネットワークが適している

## 携帯電話やPHSを利用してデータを送信もある

## ISDN

### Integrated Services Digital Network

- ディジタルな電話サービス

*XMind: ZEN - Trial Version*