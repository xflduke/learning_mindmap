# システム構成要素

## クライアントサーバシステム（CSS）

### 特徴

- 情報処理の主体は、クライアントにある
- 3階層アーキテクチャは低速回線に最適
- 長所

	- 機能に対応したハードウェア／ソフトウェアの選択が可能
	- システムの機能や性能に対し柔軟な拡張性を持つ
	- 可用性（稼働率）の高いシステムの構築が可能
	- アプリケーション開発の生産性・保守性が向上
	- GUIを利用した操作性の高いアプリケーション開発が可能

- 短所

	- 分散化によってシステムのパフォーマンスが低下
	- ネットワークの負担の予測が困難
	- ハードウェアの管理や保守の作業量が増加
	- 異なるメーカーの製品であると障害発生時に原因の特定が困難
	- データ共有に伴うセキュリティの維持が困難

### 3層アーキテクチャ

- プレゼンテーション層
- アプリケーション層
- データ層

### 用語＆名詞

- 仮想化

	- コンピュータシステムをこうせいする資源を、物理的な構成から独立させて論理的な単位に編成することである
	- １つのしげんを分割、或は、複数のしげんを統一して１つに見せるの二種類がある

- RPC

	- Remote Procudure Call

- オーペンシステム

	- 仕様を標準化することで、異なるコンピュータメーばのハードウェアやソフトウェアを組み合わせて使用できるように構築されたコンピュータシステムである

- ストアドプロシージャ

	- 一連の処理の指示をサーバ側に登録したプログラムやテキストファイルを実行、AWS API／Lambda❓

- シンクライアント

	- ThinClient：TC

- NFV

	- Network Functions Virtualization
	- ネットワーク機能を汎用サーバ上にソフトウェアとして実現したこんぽーねんとを用いることによって、柔軟なネットワーク基盤を構築するものである

## システムの構成方式

### 考え方

- フォールトトレランス（fault tolerance）

	- プロセッサを含めてあらゆる機器を多重化することで、冗長構成すること

		- フォールトトレラントコンピュータ

- フォールトアボイダンス（フォールトイントレランス）

	- avoidance、intolerance
	- システムの構成要素に信頼性の高い機器を使用すること

- シンプレックスシステム（simplex）

	- 一台構成、片方面通信

### タイプ

- タンデムシステム（tandem、直列システム）

	- 冗長ではなく、機能分散や負荷分散の目的です

- デュプレックスシステム（Duplex System、待機システム）

	- ホットスタンバイシステム
	- コールドスタンバイシステム（cold）

- デュアルシステム

	- 同期運転、瞬時の故障も許されない

## 処理形態

### 集中処理

- コンピュータやデータを地理的に集中して処理することを目的とした処理形態である
- 長所

	- スケールメリット（グロッシュ法則が成立）

		- プロセッサの性能は価格の2乗に比例する（分散環境では成立しない）

	- 要員、ハードウェア、ソフトウェアに無駄がないので運用面で経済的システム構成の標準化が容易
	- セキュリティの確保が容易

- 短所

	- バックログの滞積（環境の変化に柔軟な対応が困難）

		- バックログ：手つかずの仕事、開発に着手できてないソフトウェアを指す

	- オーバヘッドが大きくホストに負荷が集中
	- ホストに障害が発生するとシステム全体が停止
	- システムが複雑になり使いにくいことがある

- 例

	- バッチ処理

		- センタバッチ処理
		- リモートバッチ処理
		- 集信処理（データ取集システム）
		- 配信処理
		- 集配信処理

	- リアルタイム

		- オンライントランザクション処理
		- メッセージ交換
		- 問合せ応答（会話型処理）
		- TSS（リアルシェアリング）

			- Time Share System

		- リアルタイム制御（プロセス制御）

### 分散処理

- 水平分散

	- 水平負荷分散

		- システムの信頼性を高く、処理要求が発生すると空いているコンピュータが処理を担当する

	- 水平機能分散

		- 処理能力の限界を回避することを目指す、業務別やアプリケーションごとに処理するコンピュータを分ける

- 垂直（機能）分散

	- 処理機能や機器を持たせたシステム構成である、資源の最適利用と即応性を目指したもの

- 長所

	- 管理組織と機器の対応が取れるので管理責任が明確
	- 災害や障害の発生を局所化できる
	- マルチベンダ製品の導入でコストパフォーマンスが向上
	- アプリケーションや機器の追加が容易（保守性が高い）

- 短所

	- システムの実体が捉えにくい（障害箇所の特定が困難）
	- システム全体の性能はネットワークの性能に左右される
	- データの不整合が発生しやすい
	- 外部からの侵入に弱い

### 分散システムにおける集中化の意味

- 情報の一元管理
- アプリケーションの一元管理

	- バージョン管理等

- しげんの共同利用

	- 主に高価なシステム資源

## 稼働率と故障率

### 稼働率

- MTBF／（MTBF ＋ MTBR）

	- MTBF

		- Mean Time Between Failures：平均故障時間

	- MTBR

		- Mean Time Between Repair：平均修理時間

- 直列接続の稼働率
- 並列接続の稼働率

### 故障率

- 単位時間あたりの故障回数

	- 1／MTBF
	- 単位：FIT

		- 1時間あたり10のー9階乗回故障

## 信頼性

### RASIS（ラシス、レイシス）

- R：Reliability：信頼性：故障の発生を最小限に抑える指標
- A：Availability：可用性：継続して稼働させるための指標
- S：Serviceability：保守の容易性を示す指標
- I：Integrity：完全性の指標
- S：Security：保護機能の強度の指標

### バスタブ曲線

- 初期故障期＜偶発故障期＞摩耗故障期
- 耐用寿命：規定の故障率の期間：初期故障期の中の時点〜摩耗故障期の中の時点

### 信頼性設計

- フェールセーフ

	- 故障発生時に危険な状態を避けて、安全に動作するような設計

		- デュアルシステム

- フェールソフト

	- 一部故障が発生しても、できる限りその影響を局所化し、システムの全面停止を避けようとする設計

		- デュプレックスシステム
		- マルチプロセッサシステム

- フェールオーバ

	- 障害が発生時に代替装置やシステムが処理やデーたを引き継ぐ機能である

- フェールバック

	- 障害から復旧した元のシステムに、代替システムから処理を引き継いで元の状態に戻すことである
	- 障害の発生した元のシスてむが障害から復旧すると、待機系から再び処理を引き継ぐ

- フールプルーフ（proof）

	- 不特定多数の利用者がいるプログラムにおいて、意図しない使われ方をしても故障しないような工夫を施すことである

- スケールアウト

	- サーバの数を増やすことでサーバ群全体のパフォーマンスを向上させること

- スケールアップ

	- 既存サーバの性能を強化して性能を向上させること

## 性能指標

### 評価対象

- CPUの処理能力

	- MIPS

		- Million Instruction Per Second
		- 1秒間の実行命令数を百万単位で表示

	- FLOPS

		- Floatinng Point Operation Per Second
		- 1秒間の浮動小数点命令の実行数を表示

	- 命令ミックス

		- 平均的なプログラムの命令の出現頻度と実行時間から1命令あたりの平均実行時間を表示

	- SPEC

		- Standard Performance Evaluation Corporation
		- UNIXの総合的な処理能力評価のベンチマーク

- バッチの処理能力

	- スループット

		- 単位時間あたりの処理可能なジョブ数やデータ量

	- TAT

		- TurnAround Time
		- 開始から終了までの時間間隔

- オンラインシステムの処理能力

	- OLTP：OnLine Transaction Process
	- 応答時間

		- 入力から出力開始までの時間間隔、レスポンスタイムという

	- TPS

		- Transaction Per Second
		- 1秒間に処理可能なトランザクション件数

	- TPC

		- Transaction Processing performance Council
		- OLTPの性能評価のベンチマーク

### 計算方法

- 命令ミクスとMIPS

	- 平均命令実行時間＝Σ命令実行時間✖️出現頻度

- TPS

	- Transaction Per Second：トランザクション処理能力
	- TPS（件／秒）＝MIPS値 ／ トランザクションの処理ステップ

- クロック（周波数）

	- 単位はヘルス（Hz）
	- CPI：Clock Per Instruction：命令あたりの平均クロック数

- ベンチマークテスト

	- SPEC

		- Standard Performance Evaluation Corpoation：システム性能評価協会
		- 指標

			- SPECmark

				- SPECintとSPECfpを統合した値

			- SPECint

				- 整数演算性能の指標

			- SPECfp

				- 浮動小数点数演算の指標

	- TPC

		- Transaction Processing performance Council：トランザクション処理性能評議会
		- 指標

			- TPCーA

				- 銀行の窓口業務をモデル化

			- TPCーB

				- TPCーAからオンラインの負荷テストを除外

			- TPCーC

				- 複雑な受注業務をモデル化、実際の企業内システムに近似したOLTPを評価

			- TPCーH

				- 大型基幹業務向け意思決定支援環境をシミュレートして性能を評価

			- TPCーR

				- ビジネスレポートを意思決定支援環境をシミュレートして性能を評価

			- TPCーW

				- WebベースのOLTPの性能を評価（電子商取引システム向け）

### モニタリング

- 実稼働中のシステムのソフトウェアやハードウェアによって収集し、測定結果から性能や稼働状況を評価

	- ハードウェアモニタリング

		- 命令実行回数と所用時間
		- 命令種別の実行頻度
		- バッファ、キャッシュメモリのヒット率
		- 主記憶のアクセス分布
		- マルチプロセッサの競合状態

	- ソフトウェアモニタリング

		- スーパバイザモードの時間の割合
		- 装置の負荷状況
		- メモリの使用状況
		- 応答時間
		- 仮想記憶のページング状況
		- ジョブステップごとの資源の利用状況
		- ジョブの多重度と待ち状況
		- 事象トレース（タスク切替え、割込み）

	- 併用

		- プロセッサ、チャネル、入出力装置の利用率、磁気ディスクのアクセす分布

### キャパシティプランニング（capacity planning）

- 計画・開発中、街道中のシステムに求められるリソースの処理能力や数量などを見積もり、最適なシステム構成を計画する

*XMind: ZEN - Trial Version*